{"ast":null,"code":"var _jsxFileName = \"/Users/marie/Documents/Northcoders/FRONTEND/WEEK9/Nc-news/nc-news/src/Components/ArticlesList.jsx\";\nimport React from \"react\";\nimport * as api from \"../api\";\nimport ArticleCard from \"./ArticleCard\";\nimport ErrorPage from './ErrorPage';\nimport { StyledArticleList } from \"./Styles/StyledArticleList\";\n\nclass ArticlesList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      articles: [],\n      isLoading: true,\n      err: null\n    };\n\n    this.getArticles = () => {\n      api.getArticles(this.props.topic, this.props.sortBy, this.props.orderBy).then(articles => {\n        this.setState({\n          articles: articles,\n          isLoading: false\n        });\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          isLoading: false,\n          err: {\n            msg: err.msg,\n            status: err.status\n          }\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getArticles();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.topic !== this.props.topic || prevProps.sortBy !== this.props.sortBy || prevProps.orderBy !== this.props.orderBy) {\n      this.getArticles();\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) return React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Loading...\");\n    console.log(this.state.err);\n    if (this.state.err) return React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.state.err.msg);else {\n      return React.createElement(StyledArticleList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.state.articles.map(article => React.createElement(ArticleCard, {\n        key: article.article_id,\n        article: article,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nexport default ArticlesList;","map":{"version":3,"sources":["/Users/marie/Documents/Northcoders/FRONTEND/WEEK9/Nc-news/nc-news/src/Components/ArticlesList.jsx"],"names":["React","api","ArticleCard","ErrorPage","StyledArticleList","ArticlesList","Component","state","articles","isLoading","err","getArticles","props","topic","sortBy","orderBy","then","setState","catch","console","log","msg","status","componentDidMount","componentDidUpdate","prevProps","render","map","article","article_id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,iBAAT,QAAkC,4BAAlC;;AAEA,MAAMC,YAAN,SAA2BL,KAAK,CAACM,SAAjC,CAA2C;AAAA;AAAA;AAAA,SACzCC,KADyC,GACjC;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,SAAS,EAAE,IAFL;AAGNC,MAAAA,GAAG,EAAG;AAHA,KADiC;;AAAA,SAmBzCC,WAnByC,GAmB3B,MAAM;AAClBV,MAAAA,GAAG,CACAU,WADH,CACe,KAAKC,KAAL,CAAWC,KAD1B,EACiC,KAAKD,KAAL,CAAWE,MAD5C,EACoD,KAAKF,KAAL,CAAWG,OAD/D,EAEGC,IAFH,CAEQR,QAAQ,IAAI;AAChB,aAAKS,QAAL,CAAc;AAAET,UAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,UAAAA,SAAS,EAAE;AAAjC,SAAd;AACD,OAJH,EAIKS,KAJL,CAIWR,GAAG,IAAI;AACdS,QAAAA,OAAO,CAACC,GAAR,CAAYV,GAAZ;AACA,aAAKO,QAAL,CAAc;AAAER,UAAAA,SAAS,EAAE,KAAb;AAAoBC,UAAAA,GAAG,EAAG;AAACW,YAAAA,GAAG,EAAGX,GAAG,CAACW,GAAX;AAAgBC,YAAAA,MAAM,EAAGZ,GAAG,CAACY;AAA7B;AAA1B,SAAd;AAED,OARH;AASD,KA7BwC;AAAA;;AAMzCC,EAAAA,iBAAiB,GAAG;AAClB,SAAKZ,WAAL;AACD;;AACDa,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QACEA,SAAS,CAACZ,KAAV,KAAoB,KAAKD,KAAL,CAAWC,KAA/B,IACAY,SAAS,CAACX,MAAV,KAAqB,KAAKF,KAAL,CAAWE,MADhC,IAEAW,SAAS,CAACV,OAAV,KAAsB,KAAKH,KAAL,CAAWG,OAHnC,EAIE;AACA,WAAKJ,WAAL;AACD;AACF;;AAeDe,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKnB,KAAL,CAAWE,SAAf,EAA0B,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AAC1BU,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWG,GAAvB;AACA,QAAI,KAAKH,KAAL,CAAWG,GAAf,EAAoB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKH,KAAL,CAAWG,GAAX,CAAeW,GAApB,CAAP,CAApB,KACK;AACH,aACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKd,KAAL,CAAWC,QAAX,CAAoBmB,GAApB,CAAwBC,OAAO,IAC9B,oBAAC,WAAD;AAAa,QAAA,GAAG,EAAEA,OAAO,CAACC,UAA1B;AAAsC,QAAA,OAAO,EAAED,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADH,CADF;AAOD;AACF;;AA7CwC;;AAgD3C,eAAevB,YAAf","sourcesContent":["import React from \"react\";\nimport * as api from \"../api\";\nimport ArticleCard from \"./ArticleCard\";\nimport ErrorPage from './ErrorPage'\nimport { StyledArticleList } from \"./Styles/StyledArticleList\";\n\nclass ArticlesList extends React.Component {\n  state = {\n    articles: [],\n    isLoading: true,\n    err : null\n  };\n  componentDidMount() {\n    this.getArticles();\n  }\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.topic !== this.props.topic ||\n      prevProps.sortBy !== this.props.sortBy ||\n      prevProps.orderBy !== this.props.orderBy\n    ) {\n      this.getArticles();\n    }\n  }\n\n  getArticles = () => {\n    api\n      .getArticles(this.props.topic, this.props.sortBy, this.props.orderBy)\n      .then(articles => {\n        this.setState({ articles: articles, isLoading: false });\n      }).catch(err => {\n        console.log(err)\n        this.setState({ isLoading: false, err : {msg : err.msg, status : err.status} });\n        \n      })\n  };\n  \n\n  render() {\n    if (this.state.isLoading) return <h2>Loading...</h2>;\n    console.log(this.state.err)\n    if (this.state.err) return <h1>{this.state.err.msg}</h1>\n    else {\n      return (\n        <StyledArticleList>\n          {this.state.articles.map(article => (\n            <ArticleCard key={article.article_id} article={article} />\n          ))}\n        </StyledArticleList>\n      );\n    }\n  }\n}\n\nexport default ArticlesList;\n"]},"metadata":{},"sourceType":"module"}